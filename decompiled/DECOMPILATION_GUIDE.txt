
================================================================================
ã€APK åç¼–è¯‘å¯¼èˆªæŒ‡å—ã€‘
ç”Ÿæˆæ—¶é—´: 2026-02-04 16:49:50
================================================================================

ã€å¿«é€Ÿå¯¼èˆªã€‘

ğŸ“ APK è§£å‹ç›®å½•:
   decompiled\extracted

ã€å…³é”®ç›®å½•ã€‘

1. Lua è„šæœ¬ä»£ç :
   decompiled\extracted\assets/base/src
   
   åŒ…å«æ‰€æœ‰æ¸¸æˆé€»è¾‘ä»£ç  (.luac ç¼–è¯‘æ–‡ä»¶)
   éœ€è¦ä½¿ç”¨ unluac å·¥å…·åç¼–è¯‘
   
   å‘½ä»¤:
   $ python tools/decompile_lua.py

2. æ¸¸æˆé…ç½®æ–‡ä»¶:
   decompiled\extracted\assets/base/config.json
   
   åŒ…å«åº”ç”¨é…ç½®ã€API ç«¯ç‚¹ã€å‚æ•°ç­‰
   å¯ä»¥ç›´æ¥ç”¨æ–‡æœ¬ç¼–è¾‘å™¨æŸ¥çœ‹

3. Java å­—èŠ‚ç :
   decompiled\extracted\classes.dex
   
   åŒ…å«æ‰€æœ‰ Java èƒ¶æ°´ä»£ç 
   éœ€è¦ dex2jar + CFR åç¼–è¯‘
   
   å‘½ä»¤:
   $ python tools/dex_to_java.py

4. Native åº“:
   decompiled\extracted\lib
   
   ARM64 åº“: lib/arm64-v8a/
   ARM32 åº“: lib/armeabi-v7a/
   
   éœ€è¦ IDA Pro æˆ– Ghidra é€†å‘

5. UI èµ„æº:
   decompiled\extracted\res
   decompiled\extracted\assets/base/res/client.zip
   
   åŒ…å«æ¸¸æˆ UI å’Œç¾æœ¯èµ„æº

ã€æ–‡ä»¶åˆ—è¡¨ã€‘

DEX å­—èŠ‚ç :
  decompiled\extracted\classes.dex

èµ„æºæ–‡ä»¶:
  decompiled\extracted\resources.arsc

åº”ç”¨æ¸…å•:
  decompiled\extracted\AndroidManifest.xml

ç­¾åè¯ä¹¦:
  decompiled\extracted\META-INF

ã€åç¼–è¯‘æ­¥éª¤ã€‘

æ­¥éª¤ 1: åç¼–è¯‘ Lua è„šæœ¬ (æ¸¸æˆé€»è¾‘)
  $ python tools/decompile_lua.py
  
  è¾“å‡º: decompiled/lua_decompiled/

æ­¥éª¤ 2: åç¼–è¯‘ Java ä»£ç  (åº”ç”¨æ¡†æ¶)
  $ python tools/dex_to_java.py
  
  è¾“å‡º: decompiled/java_src/

æ­¥éª¤ 3: åˆ†æ Native åº“ (å¯é€‰)
  ä½¿ç”¨ IDA Pro æˆ– Ghidra åˆ†æ:
    decompiled\extracted\lib/arm64-v8a/libcocos2dlua.so
    decompiled\extracted\lib/arm64-v8a/libCrashSight.so

ã€å…³é”®ä¿¡æ¯ã€‘

é…ç½®æ–‡ä»¶ (config.json):
  åŒ…å« API ç«¯ç‚¹ã€æœåŠ¡å™¨åœ°å€ã€å‚æ•°é…ç½®
  è·¯å¾„: decompiled\extracted\assets/base/config.json

Lua MVC æ¶æ„:
  models/  - æ•°æ®æ¨¡å‹
  views/   - UI è§†å›¾
  controllers/ - ä¸šåŠ¡é€»è¾‘
  
  ä½ç½®: decompiled\extracted\assets/base/src

ç¬¬ä¸‰æ–¹ SDK:
  - WeChat SDK (ç¤¾äº¤/æ”¯ä»˜)
  - AMap (åœ°ç†ä½ç½®)
  - Tencent CrashSight (å´©æºƒä¸ŠæŠ¥)
  - Retrofit2/OkHttp3 (ç½‘ç»œ)
  - Alibaba FastJSON (JSON)

ã€å®‰å…¨æ£€æŸ¥æ¸…å•ã€‘

åç¼–è¯‘åéœ€è¦æ£€æŸ¥:

â–¡ ç¡¬ç¼–ç çš„ API å¯†é’¥å’Œå¯†ç 
  æœç´¢: "api_key", "secret", "token", "password"

â–¡ æ•æ„Ÿ URL å’Œç«¯ç‚¹
  æœç´¢: "http://", "https://", ".com", "/api/"

â–¡ ä¸å®‰å…¨çš„ç½‘ç»œé€šä¿¡
  æœç´¢: "HttpClient", "exec", "Runtime.getRuntime"

â–¡ æ•°æ®æ³„éœ²é£é™©
  æœç´¢: "SharedPreferences", "database", "log", "send"

â–¡ æƒé™æ»¥ç”¨
  æœç´¢: "getDeviceId", "getIMEI", "getLocation", "readSMS"

â–¡ ä»£ç æ³¨å…¥æ¼æ´
  æœç´¢: "eval", "loadDex", "reflection", "getDeclaredMethod"

ã€è¾“å‡ºæ–‡ä»¶è¯´æ˜ã€‘

DECOMPILATION_REPORT.txt
  - è¯¦ç»†çš„åç¼–è¯‘æŠ¥å‘Š
  - æ–‡ä»¶åˆ—è¡¨ç»Ÿè®¡
  - å‘ç°çš„å…³é”®ä¿¡æ¯

DECOMPILATION_GUIDE.txt (æœ¬æ–‡ä»¶)
  - å¯¼èˆªå’Œå¿«é€Ÿå‚è€ƒ

lua_decompiled/
  - åç¼–è¯‘åçš„ Lua æºä»£ç 
  - æ¸¸æˆé€»è¾‘ä»£ç 

java_src/
  - åç¼–è¯‘åçš„ Java æºä»£ç 
  - åº”ç”¨æ¡†æ¶ä»£ç 

ã€æ¨èæŸ¥çœ‹é¡ºåºã€‘

1ï¸âƒ£ config.json (å¿«é€Ÿè·å–åº”ç”¨ä¿¡æ¯)
   $ type decompiled\extracted\assets/base/config.json

2ï¸âƒ£ Lua è„šæœ¬ (ç†è§£æ¸¸æˆé€»è¾‘)
   $ Get-ChildItem 'decompiled\extracted\assets/base/src' -Recurse

3ï¸âƒ£ Java ä»£ç  (ç†è§£åº”ç”¨æ¡†æ¶)
   $ ls decompiled/java_src/

4ï¸âƒ£ AndroidManifest.xml (æƒé™å’Œç»„ä»¶)
   $ file decompiled\extracted\AndroidManifest.xml

ã€å¸¸ç”¨å‘½ä»¤ã€‘

æŸ¥æ‰¾ç‰¹å®šå­—ç¬¦ä¸²:
  $ Get-ChildItem decompiled -Recurse | Select-String "api_key|password|secret"

ç»Ÿè®¡ä»£ç è¡Œæ•°:
  $ (Get-ChildItem decompiled/lua_decompiled -Recurse -Filter '*.lua' | 
     Measure-Object -Property Length -Sum).Sum

æŸ¥æ‰¾ç½‘ç»œè°ƒç”¨:
  $ Select-String -Path 'decompiled/java_src/*.java' -Pattern 'http|socket|request'

ã€éœ€è¦çš„å·¥å…·ã€‘

âœ… å·²æœ‰:
  - Java JDK (åç¼–è¯‘å·¥å…·éœ€è¦)
  - Python 3 (è„šæœ¬æ‰§è¡Œ)
  - PowerShell (å‘½ä»¤è¡Œ)

ğŸ“¥ éœ€è¦ä¸‹è½½:
  - unluac (Lua åç¼–è¯‘): https://sourceforge.net/projects/unluac/
  - dex2jar (DEX è½¬ JAR): https://github.com/ThexXTURBOXx/dex2jar
  - CFR (JAR åç¼–è¯‘): https://www.benf.org/other/cfr/cfr.jar

ã€ä¸‹ä¸€æ­¥ã€‘

1. è¿è¡Œ Lua åç¼–è¯‘:
   $ python tools/decompile_lua.py

2. è¿è¡Œ Java åç¼–è¯‘:
   $ python tools/dex_to_java.py

3. åˆ†æå…³é”®ä¿¡æ¯:
   $ code decompiled/

4. ç”Ÿæˆå®‰å…¨å®¡è®¡æŠ¥å‘Š:
   $ python tools/final_security_report.py

================================================================================
